/**
 * SCSS 混入
 */
@import './variables.scss';

/**
 * 文本溢出省略 - 单行
 */
@mixin ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/**
 * 文本溢出省略 - 多行
 * @param {Number} $lines - 行数
 */
@mixin ellipsis-multi($lines: 2) {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: $lines;
  overflow: hidden;
  text-overflow: ellipsis;
}

/**
 * Flex 布局 - 水平居中
 */
@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

/**
 * Flex 布局 - 水平两端对齐
 */
@mixin flex-between {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/**
 * Flex 布局 - 水平左对齐
 */
@mixin flex-start {
  display: flex;
  justify-content: flex-start;
  align-items: center;
}

/**
 * Flex 布局 - 水平右对齐
 */
@mixin flex-end {
  display: flex;
  justify-content: flex-end;
  align-items: center;
}

/**
 * Flex 布局 - 垂直居中
 */
@mixin flex-column-center {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/**
 * 1px 边框解决方案
 * @param {String} $direction - 方向 (top, right, bottom, left, all)
 * @param {Color} $color - 颜色
 */
@mixin hairline($direction: all, $color: $border-color) {
  position: relative;

  &::after {
    content: '';
    position: absolute;
    box-sizing: border-box;
    pointer-events: none;

    @if $direction == all {
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border: 1rpx solid $color;
      transform-origin: 0 0;
      transform: scale(0.5);
    } @else if $direction == top {
      top: 0;
      left: 0;
      right: 0;
      height: 1rpx;
      background: $color;
      transform-origin: 0 0;
      transform: scaleY(0.5);
    } @else if $direction == right {
      top: 0;
      right: 0;
      bottom: 0;
      width: 1rpx;
      background: $color;
      transform-origin: 100% 0;
      transform: scaleX(0.5);
    } @else if $direction == bottom {
      left: 0;
      right: 0;
      bottom: 0;
      height: 1rpx;
      background: $color;
      transform-origin: 0 100%;
      transform: scaleY(0.5);
    } @else if $direction == left {
      top: 0;
      left: 0;
      bottom: 0;
      width: 1rpx;
      background: $color;
      transform-origin: 0 0;
      transform: scaleX(0.5);
    }
  }
}

/**
 * 安全区域适配 - 顶部
 */
@mixin safe-area-top($padding: 0) {
  padding-top: calc(#{$padding} + constant(safe-area-inset-top));
  padding-top: calc(#{$padding} + env(safe-area-inset-top));
}

/**
 * 安全区域适配 - 底部
 */
@mixin safe-area-bottom($padding: 0) {
  padding-bottom: calc(#{$padding} + constant(safe-area-inset-bottom));
  padding-bottom: calc(#{$padding} + env(safe-area-inset-bottom));
}

/**
 * 清除浮动
 */
@mixin clearfix {
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

/**
 * 绝对定位居中
 */
@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/**
 * 响应式断点
 * @param {String} $breakpoint - 断点
 */
@mixin respond-to($breakpoint) {
  @if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) {
      @content;
    }
  } @else if $breakpoint == md {
    @media (min-width: $breakpoint-md) {
      @content;
    }
  } @else if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) {
      @content;
    }
  } @else if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) {
      @content;
    }
  }
}
